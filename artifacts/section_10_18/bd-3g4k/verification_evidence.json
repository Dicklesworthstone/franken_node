{
  "bead_id": "bd-3g4k",
  "title": "VEF hash-chained receipt stream with periodic commitment checkpoints",
  "section": "10.18",
  "verdict": "PASS",
  "timestamp": "2026-02-22T06:10:20Z",
  "artifacts": {
    "implementation": "crates/franken-node/src/vef/receipt_chain.rs",
    "module_wiring": "crates/franken-node/src/vef/mod.rs",
    "spec_doc": "docs/specs/vef_receipt_chain.md",
    "contract_spec": "docs/specs/section_10_18/bd-3g4k_contract.md",
    "conformance_test": "tests/conformance/vef_receipt_chain_integrity.rs",
    "cargo_test_wrapper": "crates/franken-node/tests/vef_receipt_chain_integrity.rs",
    "commitment_log": "artifacts/10.18/vef_receipt_commitment_log.jsonl",
    "checker": "scripts/check_vef_receipt_chain.py",
    "checker_test": "tests/test_check_vef_receipt_chain.py",
    "summary": "artifacts/section_10_18/bd-3g4k/verification_summary.md",
    "check_report": "artifacts/section_10_18/bd-3g4k/check_report.json",
    "check_self_test": "artifacts/section_10_18/bd-3g4k/check_self_test.txt",
    "unit_test_log": "artifacts/section_10_18/bd-3g4k/unit_tests.txt"
  },
  "verification_steps": [
    {
      "name": "checker_json",
      "command": "python3 scripts/check_vef_receipt_chain.py --json",
      "status": "PASS",
      "output_path": "artifacts/section_10_18/bd-3g4k/check_report.json"
    },
    {
      "name": "checker_self_test",
      "command": "python3 scripts/check_vef_receipt_chain.py --self-test",
      "status": "PASS",
      "output_path": "artifacts/section_10_18/bd-3g4k/check_self_test.txt"
    },
    {
      "name": "checker_unit_tests",
      "command": "pytest -q tests/test_check_vef_receipt_chain.py",
      "status": "PASS",
      "output_path": "artifacts/section_10_18/bd-3g4k/unit_tests.txt"
    },
    {
      "name": "rch_cargo_check_all_targets",
      "command": "rch exec -- cargo check --all-targets",
      "status": "FAIL",
      "detail": "Workspace currently has pre-existing compile failures outside bd-3g4k surfaces."
    },
    {
      "name": "rch_cargo_clippy_all_targets",
      "command": "rch exec -- cargo clippy --all-targets -- -D warnings",
      "status": "FAIL",
      "detail": "Workspace currently has broad pre-existing clippy/lint failures outside bd-3g4k surfaces."
    },
    {
      "name": "rch_cargo_fmt_check",
      "command": "rch exec -- cargo fmt --check",
      "status": "FAIL",
      "detail": "Workspace currently has extensive pre-existing formatting diffs outside bd-3g4k surfaces."
    }
  ],
  "invariants": [
    "INV-VEF-CHAIN-APPEND-ONLY",
    "INV-VEF-CHAIN-DETERMINISTIC",
    "INV-VEF-CHAIN-CHECKPOINT-REPRODUCIBLE",
    "INV-VEF-CHAIN-FAIL-CLOSED"
  ],
  "event_codes": [
    "VEF-CHAIN-001",
    "VEF-CHAIN-002",
    "VEF-CHAIN-003",
    "VEF-CHAIN-ERR-001",
    "VEF-CHAIN-ERR-002",
    "VEF-CHAIN-ERR-003",
    "VEF-CHAIN-ERR-004"
  ]
}
