{
  "bead": "bd-1dar",
  "title": "Optional MMR checkpoints and inclusion/prefix proof APIs for external verifiers",
  "section": "10.14",
  "verdict": "PASS_WITH_EXTERNAL_BLOCKERS",
  "summary": {
    "passing_checks": 16,
    "failing_checks": 0,
    "total_checks": 16
  },
  "checks": [
    {
      "id": "MMR-FILE-IMPL",
      "check": "file: implementation module exists",
      "pass": true,
      "detail": "crates/franken-node/src/control_plane/mmr_proofs.rs"
    },
    {
      "id": "MMR-FILE-MOD-WIRE",
      "check": "file: control_plane mod exports mmr_proofs",
      "pass": true,
      "detail": "crates/franken-node/src/control_plane/mod.rs contains 'pub mod mmr_proofs;'"
    },
    {
      "id": "MMR-FILE-CONFORMANCE",
      "check": "file: conformance test exists",
      "pass": true,
      "detail": "tests/conformance/mmr_proof_verification.rs"
    },
    {
      "id": "MMR-FILE-SPEC",
      "check": "file: contract/spec exists",
      "pass": true,
      "detail": "docs/specs/section_10_14/bd-1dar_contract.md"
    },
    {
      "id": "MMR-FILE-VECTORS",
      "check": "file: proof vectors artifact exists",
      "pass": true,
      "detail": "artifacts/10.14/mmr_proof_vectors.json"
    },
    {
      "id": "MMR-API-INCLUSION-PROOF",
      "check": "API: mmr_inclusion_proof",
      "pass": true,
      "detail": "public function present"
    },
    {
      "id": "MMR-API-INCLUSION-VERIFY",
      "check": "API: verify_inclusion",
      "pass": true,
      "detail": "public function present"
    },
    {
      "id": "MMR-API-PREFIX-PROOF",
      "check": "API: mmr_prefix_proof",
      "pass": true,
      "detail": "public function present"
    },
    {
      "id": "MMR-API-PREFIX-VERIFY",
      "check": "API: verify_prefix",
      "pass": true,
      "detail": "public function present"
    },
    {
      "id": "MMR-API-TOGGLE",
      "check": "checkpoint enable/disable support",
      "pass": true,
      "detail": "MmrCheckpoint::enabled/disabled/set_enabled implemented"
    },
    {
      "id": "MMR-API-REBUILD",
      "check": "checkpoint rebuild support",
      "pass": true,
      "detail": "rebuild_from_stream + sync_from_stream implemented"
    },
    {
      "id": "MMR-ERR-CODES",
      "check": "stable fail-closed error codes",
      "pass": true,
      "detail": "MMR_DISABLED, MMR_EMPTY_CHECKPOINT, MMR_SEQUENCE_OUT_OF_RANGE, MMR_CHECKPOINT_STALE, MMR_PREFIX_SIZE_INVALID, MMR_INVALID_PROOF, MMR_LEAF_MISMATCH, MMR_ROOT_MISMATCH"
    },
    {
      "id": "MMR-TESTS-INLINE",
      "check": "inline Rust unit tests",
      "pass": true,
      "detail": "10 tests in crates/franken-node/src/control_plane/mmr_proofs.rs"
    },
    {
      "id": "MMR-TESTS-CONFORMANCE",
      "check": "conformance tests",
      "pass": true,
      "detail": "8 tests in tests/conformance/mmr_proof_verification.rs"
    },
    {
      "id": "MMR-VECTORS-INCLUSION-COUNT",
      "check": "proof vectors include >=10 inclusion cases",
      "pass": true,
      "detail": "10 inclusion cases"
    },
    {
      "id": "MMR-VECTORS-PREFIX-COUNT",
      "check": "proof vectors include >=5 prefix cases",
      "pass": true,
      "detail": "5 prefix cases"
    }
  ],
  "external_blockers": [
    {
      "command": "rch exec -- cargo fmt --check",
      "status": "failed",
      "detail": "Fails on unrelated pre-existing formatting drift in crates/franken-node/src/connector/execution_scorer.rs"
    },
    {
      "command": "rch exec -- cargo check --all-targets --manifest-path franken_node/Cargo.toml",
      "status": "failed",
      "detail": "RCH remote sync fallback + upstream path dependency compile errors in /data/projects/franken_engine (revocation_chain.rs missing lazy_static_schema!/REVOCATION_SCHEMA_LAZY)"
    },
    {
      "command": "rch exec -- cargo clippy --all-targets --manifest-path franken_node/Cargo.toml -- -D warnings",
      "status": "failed",
      "detail": "Large volume of pre-existing dead_code/clippy warnings across unrelated modules"
    },
    {
      "command": "rch exec -- env CARGO_TARGET_DIR=/tmp/rch_target_cyanfinch cargo test --manifest-path franken_node/Cargo.toml mmr_proof -- --nocapture",
      "status": "failed",
      "detail": "RCH sync blocked by /data/projects/remote_compilation_helper/perf.data permissions, then local fallback failed compiling sibling dependency /data/projects/franken_engine/crates/franken-engine/src/revocation_chain.rs (E0425 macro/value missing)"
    }
  ]
}
