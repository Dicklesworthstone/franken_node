{
  "bead_id": "bd-3ku8",
  "section": "10.17",
  "title": "Define and enforce capability-carrying extension artifact format",
  "status": "pass",
  "verdict": "PASS",
  "deliverables": [
    "docs/specs/capability_artifact_format.md",
    "crates/franken-node/src/extensions/mod.rs",
    "crates/franken-node/src/extensions/artifact_contract.rs",
    "tests/conformance/capability_artifact_admission.rs",
    "scripts/check_capability_artifact_format.py",
    "tests/test_check_capability_artifact_format.py",
    "artifacts/10.17/capability_artifact_vectors.json",
    "artifacts/section_10_17/bd-3ku8/verification_evidence.json",
    "artifacts/section_10_17/bd-3ku8/verification_summary.md"
  ],
  "checker": {
    "command": "python3 scripts/check_capability_artifact_format.py --build-report --json",
    "exit_code": 0,
    "report_path": "artifacts/10.17/capability_artifact_vectors.json",
    "passed_checks": 42,
    "failed_checks": 0
  },
  "self_test": {
    "command": "python3 scripts/check_capability_artifact_format.py --self-test --json",
    "exit_code": 0,
    "passed_checks": 6,
    "failed_checks": 0
  },
  "unit_tests": {
    "command": "python3 -m pytest tests/test_check_capability_artifact_format.py -v",
    "exit_code": 0,
    "summary": "9 passed in 0.35s"
  },
  "cargo_quality_gates": {
    "check_all_targets": {
      "command": "rch exec -- cargo check --all-targets",
      "exit_code": 0
    }
  },
  "artifact_contract": {
    "fail_closed_on_missing": true,
    "fail_closed_on_invalid": true,
    "enforcement_matches_envelope": true,
    "no_drift_permitted": true
  },
  "event_codes": [
    "ARTIFACT_ADMISSION_START",
    "ARTIFACT_CAPABILITY_VALIDATED",
    "ARTIFACT_ADMISSION_ACCEPTED",
    "ARTIFACT_ENFORCEMENT_CHECK",
    "ARTIFACT_DRIFT_DETECTED"
  ],
  "error_codes": [
    "ERR_ARTIFACT_MISSING_CONTRACT",
    "ERR_ARTIFACT_INVALID_CAPABILITY",
    "ERR_ARTIFACT_SIGNATURE_INVALID",
    "ERR_ARTIFACT_SCHEMA_MISMATCH",
    "ERR_ARTIFACT_ENFORCEMENT_DRIFT",
    "ERR_ARTIFACT_ADMISSION_DENIED"
  ],
  "invariants": [
    "INV-ARTIFACT-FAIL-CLOSED",
    "INV-ARTIFACT-CAPABILITY-ENVELOPE",
    "INV-ARTIFACT-NO-DRIFT",
    "INV-ARTIFACT-SIGNED-CONTRACT"
  ],
  "rust_unit_tests": 15,
  "notes": [
    "Artifact admission fails closed on missing/invalid capability contracts (INV-ARTIFACT-FAIL-CLOSED).",
    "Runtime enforcement matches admitted capability envelope without drift (INV-ARTIFACT-NO-DRIFT).",
    "All 5 event codes, 6 error codes, and 4 invariants present in both spec and implementation.",
    "15 inline Rust unit tests covering all admission denial paths and drift detection.",
    "Workspace-level fmt/clippy baseline debt remains outside this bead scope."
  ]
}
