# Ambient-authority exception allowlist.
# Exceptions are temporary and require deterministic signatures.
#
# Signature format:
# sha256({module_path}\n{ambient_api}\n{justification}\n{signer}\n{expires_on})

[[exceptions]]
id = "AAL-001"
module_path = "crates/franken-node/src/connector/durable_claim_gate.rs"
ambient_api = "std::time::Instant"
justification = "Monotonic latency budget tracking in durable claim gate pending capability-clock adapter."
signer = "MistyBridge"
expires_on = "2026-12-31"
signature = "sha256:b908f7e57ad86d6c4275a553c89782a133cec44a51b393657e6d90946bdc8f33"

[[exceptions]]
id = "AAL-002"
module_path = "crates/franken-node/src/connector/rollout_state.rs"
ambient_api = "std::fs"
justification = "Atomic rollout snapshot persistence currently uses std::fs until capability-gated storage lands."
signer = "MistyBridge"
expires_on = "2026-12-31"
signature = "sha256:0a28abaea7a1d018161fa494af948c3e0e287a04af703ad0806cbfd8d8b12795"

[[exceptions]]
id = "AAL-003"
module_path = "crates/franken-node/src/connector/rollout_state.rs"
ambient_api = "std::time::SystemTime"
justification = "Rollout fixture timestamp derivation still uses SystemTime for deterministic artifact naming."
signer = "MistyBridge"
expires_on = "2026-12-31"
signature = "sha256:83d344e6f0b5befc9f6762d695a407705580a5dabe0b33d75014f4a5e00af81b"

[[exceptions]]
id = "AAL-004"
module_path = "crates/franken-node/src/connector/state_model.rs"
ambient_api = "std::time::SystemTime"
justification = "State-model deterministic fixture IDs still derive from SystemTime pending Cx clock wiring."
signer = "MistyBridge"
expires_on = "2026-12-31"
signature = "sha256:6e0c0908fe5ca34e184c2b8c6b1d8d519f758fa960a068db2a57f4d092ae820f"

[[exceptions]]
id = "AAL-005"
module_path = "crates/franken-node/src/connector/eviction_saga.rs"
ambient_api = "std::time::SystemTime"
justification = "Eviction saga uses SystemTime::now() for deadline tracking pending capability-clock adapter."
signer = "BronzePond"
expires_on = "2026-12-31"
signature = "sha256:380d87984839d2047364074f96b6b207937e0108adacf2ea6e7e87e8cff5fe98"

[[exceptions]]
id = "AAL-006"
module_path = "crates/franken-node/src/connector/policy_checkpoint.rs"
ambient_api = "std::time::SystemTime"
justification = "Policy checkpoint uses SystemTime::now() for checkpoint timestamps pending capability-clock adapter."
signer = "BronzePond"
expires_on = "2026-12-31"
signature = "sha256:4b24488f86de986e922760eefe9f2c8f87d460542092cb50cca1be234a41f15c"

[[exceptions]]
id = "AAL-007"
module_path = "crates/franken-node/src/connector/region_ownership.rs"
ambient_api = "std::time::Instant"
justification = "Region ownership uses Instant::now() for latency tracking pending capability-clock adapter."
signer = "BronzePond"
expires_on = "2026-12-31"
signature = "sha256:b602cb686ebf0b960594012ecde8a3d7d6cddedf755b63a789cf36952efab675"
